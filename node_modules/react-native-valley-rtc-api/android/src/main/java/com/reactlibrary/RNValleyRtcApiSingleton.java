package com.reactlibrary;

import android.view.SurfaceView;

import valley.api.hvideo_t;

public class RNValleyRtcApiSingleton {
    private static RNValleyRtcApiSingleton instance;
    private RNValleyRtcApiModule module;

    private RNValleyRtcApiSingleton() {}

    public static synchronized RNValleyRtcApiSingleton getInstance(){
        if (null == instance){
            instance = new RNValleyRtcApiSingleton();
        }
        return instance;
    }

    public void SetModule(RNValleyRtcApiModule in) {
        module = in;
    }

    public void ChannelSetLocalVideo(SurfaceView view, int channelIndex) {
        hvideo_t hv = new hvideo_t();
        hv.view = view;
        module.ChannelSetLocalVideo(channelIndex, hv);
    }

    public void ChannelRemoveLocalVideo(int channelIndex) {
        module.ChannelRemoveLocalVideo(channelIndex);
    }

    public void ChannelSetUserVideo(SurfaceView view, String userId, int channelIndex) {
        hvideo_t hv = new hvideo_t();
        hv.view = view;
        module.ChannelSetUserVideo(channelIndex, userId, hv);
    }

    public void ChannelRemoveUserVideo(String userId, int channelIndex) {
        module.ChannelRemoveUserVideo(channelIndex, userId);
    }
}
